policies:
- actions:
  - type: stop
  description: Stop VMs that have not been used in the last x days and have an average
    CPU below the set threshold, and have a specific tag(optional)
  enabled: false
  filters:
  - days: 30
    threshold: 10
    type: last_used
  name: stop-unused-vms
  resource: azure.vm
- actions:
  - type: delete
  description: Delete disks that are not attached to any VMs
  enabled: true
  filters:
  - type: unattached
  name: delete-unused-disks
  resource: azure.disk
- actions:
  - type: delete
  description: Delete unattached public IPs
  enabled: false
  filters:
  - type: unattached
  name: delete-unattached-public-ips
  resource: azure.publicip
- actions:
  - type: delete
  description: Delete all resources in a resource group if the group contains the
    tag kill:dev
  enabled: false
  exclusions:
  - key: exclude
    type: tag
    value: 'true'
  filters:
  - key: kill
    type: tag
    value: dev
  name: delete-resources-in-group
  resource: azure.resourcegroup
- actions:
  - sku: Standard_LRS
    type: update_sku
  description: Update Storage Account SKU to Standard_LRS for specific SKUs and tags
  enabled: false
  filters:
  - type: sku
    values:
    - Standard_GRS
    - Standard_RAGRS
    - Standard_ZRS
    - Standard_GZRS
  name: update-storage-account-sku
  resource: azure.storage
- actions:
  - type: delete
  enabled: false
  filters:
  - key: Environment
    type: tag
    value: dev
  name: delete-empty-backend-pool-app-gateways
  resource: azure.applicationgateway
- actions:
  - tiers:
    - max_dtu: 5
      min_dtu: 5
      name: Basic
      off_peak_dtu: 5
      peak_dtu: 5
    - max_dtu: 100
      min_dtu: 10
      name: Standard
      off_peak_dtu: 10
      peak_dtu: 20
    - max_dtu: 1000
      min_dtu: 25
      name: Premium
      off_peak_dtu: 25
      peak_dtu: 1000
    type: scale_dtu
  description: Scale SQL databases during off-peak hours
  enabled: false
  filters:
  - key: environment
    type: tag
    value: dev
  name: scale-sql-database-dtu
  resource: azure.sql
- actions:
  - type: delete
  enabled: false
  exclusions: []
  filters:
  - type: unattached
  name: delete-unattached-nics
  resource: azure.nic
- actions:
  - type: downgrade_disks
  enabled: false
  filters:
  - type: stopped
  name: downgrade-disks-of-stopped-vms
  resource: azure.vm
